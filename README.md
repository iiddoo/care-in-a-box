# Care In A Box

With the growth of company's product usage and variaty, comes the need to deploy features more frequently and apply changes rapidly.  
  
Having a single application monolith (frontend in this case), will force the entire application to be rebuilt or at least redeployed even for small minor changes.  

Although it down to independant deployable chunks (i.e. microfrontend, remote modules, libraries etc.) is the main goal of this task, a proper desing and architecture can address a few predictable challanges, all described in the requirements section below.  


## Requirements

- **Federated Modules** - App should contain a shell and 2 other remote modules, all are using some shared libraries.
- **SSR** - App shell and modules should be pre rendered on server side (to exclude SPAs).
- **Dynamic Module Route** - Routes values to import remote modules, should be fetched dynamically from a catlog (escaping the need redeploy for routes updates).
- **Pipeline** - A CI/CD pipeline to build and deploy the app.
- **Monorepo** - Combine all micro apps into a single repository, reducing possible versions conflicts and easying the usage of shared libraries.
version handling?

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

#### Run  

`npx nx serve-ssr store` to serve the application,  
*or* `npx nx serve-ssr store --devRemotes=checkout` to watch for changes in checkout module

  
##### Understand this workspace

Run `nx graph` to see a diagram of the dependencies of the projects.  

## Solution  
 
#### Federated Modules

For quick use, I've approached to have 3 apps:

* Dashboard - the shell app hosting the other modules. external catalog service 
* Login - remote module representing a login form.
* List - catalog service fetch(next/module).

#### SRR 

Although Angular has this great ability with [Angular Universal](https://angular.io/guide/universal), the new addition to [Nx](https://nx.dev/getting-started/intro) that provides SSR out of the box just by runnig a comman - made it more apeal to use, and the clear docs on their site to [set up Angular app with SSR and Module Federation](https://nx.dev/recipes/module-federation/module-federation-with-ssr), and [how make it dynamic](https://nx.dev/recipes/module-federation/dynamic-module-federation-with-angular). 
